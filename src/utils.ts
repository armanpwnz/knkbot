// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
export interface ChatMessage {
  text: string;
  timestamp: number;
  author: string;
  authorName: string;
  messageId: number;
  reactions: MessageReactions;
  replies: number;
}

export interface DigestCache {
  digest: string;
  timestamp: number;
  messageCount: number;
}

export interface CommandUsage {
  lastUsed: number;
}

export interface MessageReactions {
  [key: string]: number; // emoji: count
  total: number;
}

export interface UserActivity {
  messageCount: number;
  name: string;
  username: string;
}

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
export const CACHE_LIFETIME = 5 * 60 * 1000; // 5 –º–∏–Ω—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
export const MAX_TOKENS = 2000;
export const DIGEST_COOLDOWN = 30 * 60 * 1000; // 30 –º–∏–Ω—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

// –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
export const systemPrompt = `–°—Ç–≤–æ—Ä–∏ –∑–∞—Ö–æ–ø–ª—é—é—á–∏–π –∞–Ω–∞–ª—ñ–∑ —á–∞—Ç—É —É —Ñ–æ—Ä–º–∞—Ç—ñ —ñ—Å—Ç–æ—Ä—ñ—ó. –†–æ–∑–∫–∞–∂–∏ –ø—Ä–æ —Ç–µ, —â–æ –≤—ñ–¥–±—É–≤–∞–ª–æ—Å—è –≤ —á–∞—Ç—ñ, –Ω—ñ–±–∏ –æ–ø–∏—Å—É—î—à —Ü—ñ–∫–∞–≤—É —Ä–æ–∑–º–æ–≤—É –¥—Ä—É–∑—ñ–≤. –í–∫–ª—é—á–∏:

- –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–æ–∑–º–æ–≤–∏ —Ç–∞ —ó—ó —Ä–æ–∑–≤–∏—Ç–æ–∫
- –Ø–∫ —É—á–∞—Å–Ω–∏–∫–∏ –≤–∑–∞—î–º–æ–¥—ñ—è–ª–∏ –º—ñ–∂ —Å–æ–±–æ—é
- –Ø–∫—ñ –∂–∞—Ä—Ç–∏, –µ–º–æ—Ü—ñ—ó —Ç–∞ —Ä–µ–∞–∫—Ü—ñ—ó –±—É–ª–∏
- –Ø–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∏–∫–ª–∏–∫–∞–ª–∏ –Ω–∞–π–±—ñ–ª—å—à–µ –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è
- –¶—ñ–∫–∞–≤—ñ —Ü–∏—Ç–∞—Ç–∏ –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ—é –º–æ–≤–æ—é —Ç–∞ —Ä–µ–∞–∫—Ü—ñ—è–º–∏

–°–ø–æ—á–∞—Ç–∫—É –Ω–∞–ø–∏—à–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é (üìù –ê–Ω–∞–ª—ñ–∑ —á–∞—Ç—É), –∞ –ø–æ—Ç—ñ–º —Ä–æ—Å—ñ–π—Å—å–∫–æ—é (üìù –ê–Ω–∞–ª–∏–∑ —á–∞—Ç–∞).

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —Ü–∏—Ç–∞—Ç–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ:
"–ê–≤—Ç–æ—Ä: —Ç–µ–∫—Å—Ç" üëç‚ù§Ô∏èüî• X | Replies: Y

–†–æ–∑–ø–æ–≤—ñ–¥–∞–π —ñ—Å—Ç–æ—Ä—ñ—é —Ç–∞–∫, —â–æ–± —á–∏—Ç–∞—á –≤—ñ–¥—á—É–≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É —Ä–æ–∑–º–æ–≤–∏ —Ç–∞ –∑—Ä–æ–∑—É–º—ñ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫–æ–∂–Ω–æ–≥–æ –≤–∞–∂–ª–∏–≤–æ–≥–æ –º–æ–º–µ–Ω—Ç—É. –£–Ω–∏–∫–∞–π —Å—É—Ö–æ–≥–æ –ø–µ—Ä–µ–ª—ñ–∫—É —Ñ–∞–∫—Ç—ñ–≤ - —Å—Ç–≤–æ—Ä–∏ –∂–∏–≤—É —Ä–æ–∑–ø–æ–≤—ñ–¥—å –ø—Ä–æ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –ª—é–¥–µ–π.

-------------------

–°–æ–∑–¥–∞–π —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —á–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∏—Å—Ç–æ—Ä–∏–∏. –†–∞—Å—Å–∫–∞–∂–∏ –æ —Ç–æ–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –≤ —á–∞—Ç–µ, —Å–ª–æ–≤–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—à—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä –¥—Ä—É–∑–µ–π. –í–∫–ª—é—á–∏:

- –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –∏ –µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏–µ
- –ö–∞–∫ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞–ª–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π
- –ö–∞–∫–∏–µ —à—É—Ç–∫–∏, —ç–º–æ—Ü–∏–∏ –∏ —Ä–µ–∞–∫—Ü–∏–∏ –±—ã–ª–∏
- –ö–∞–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–∑–≤–∞–ª–∏ –Ω–∞–∏–±–æ–ª—å—à–µ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ
- –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —è–∑—ã–∫–æ–º –∏ —Ä–µ–∞–∫—Ü–∏—è–º–∏

–ò—Å–ø–æ–ª—å–∑—É–π —Ü–∏—Ç–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
"–ê–≤—Ç–æ—Ä: —Ç–µ–∫—Å—Ç" üëç‚ù§Ô∏èüî• X | Replies: Y

–†–∞—Å—Å–∫–∞–∑—ã–≤–∞–π –∏—Å—Ç–æ—Ä–∏—é —Ç–∞–∫, —á—Ç–æ–±—ã —á–∏—Ç–∞—Ç–µ–ª—å –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª –∞—Ç–º–æ—Å—Ñ–µ—Ä—É —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –∏ –ø–æ–Ω—è–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫–∞–∂–¥–æ–≥–æ –≤–∞–∂–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞. –ò–∑–±–µ–≥–∞–π —Å—É—Ö–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ–≤ - —Å–æ–∑–¥–∞–π –∂–∏–≤–æ–π —Ä–∞—Å—Å–∫–∞–∑ –æ–± –æ–±—â–µ–Ω–∏–∏ –ª—é–¥–µ–π.`;